<!-- app/views/notes/index.html.erb -->
<%= render 'layouts/navbar' %>

<div class="mx-auto md:w-2/3 w-full flex">
  <div class="mx-auto">
    <h1 class="text-xl font-bold">Notes for <%= @student.name %></h1>

    <% if @student.notes.any? %>
      <table class="w-full mt-3">
        <thead>
          <tr>
            <th>Note</th>
            <th>Created Date</th>
            <th>Followup Action</th>
            <th>Followup Date</th>
            <th>Action Completed</th>
            <th>Private</th>
            <th>Private Note User</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @student.notes.each do |note| %>
            <tr>
              <td><%= note.note %></td>
              <td><%= note.note_created_date %></td>
              <td><%= note.followup_action %></td>
              <td><%= note.followup_date %></td>
              <td><%= note.action_completed %></td>
              <td><%= note.is_private %></td>
              <td><%= note.private_note_user %></td>
              <td><%= note.status %></td>
              <td>
                <%= link_to 'Show', student_note_path(@student, note), class: "text-blue-500" %>
                <%= link_to 'Edit', edit_student_note_path(@student, note), class: "text-blue-500" %>
                <%= link_to 'Delete', student_note_path(@student, note), method: :delete, data: { confirm: 'Are you sure?' }, class: "text-red-500" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p>No notes available.</p>
    <% end %>

    <%= link_to 'New Note', new_student_note_path(@student), class: "mt-3 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium hover:bg-gray-200" %>
    <%= link_to 'Back to Student', student_path(@student), class: "mt-3 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium hover:bg-gray-200" %>
  </div>
</div>
